webpackJsonp([112],{1000:function(e,t,r){"use strict";e.exports=function(){var e=r(4);var t=r(995);var a=r(67);function n(e){return e.displayName||e.name||"Component"}var o=function r(o){var s=function r(n){var s=a.currentRoute,i=a.extractParameters(s,a.getURIFragment()),u=a.applyDefaultParameters(s,i),l={params:e.map(u,function(e){if(!e)return"";return decodeURIComponent(e)})};return t.createElement(o,e.extend({},n,{router:l}))};s.displayName="withRouter("+n(o)+")";s.WrappedComponent=o;return s};return o}()},1001:function(e,t,r){"use strict";e.exports=function(){var e=r(995);var t=r(20);var a=t.shape({params:t.array.isRequired});return a}()},1207:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function e(){var t=76;var r=81;return window.innerHeight-t-r};t.default=a},1296:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(4);var n=r(20);var o=u(n);var s=r(995);var i=u(s);function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=function e(t){return t%2===1};var n=e.split(new RegExp("("+t+")","gi"));return(0,a.map)(n,function(e,t){return r(t)?i.default.createElement("strong",null,e):e})}var c=function e(t){var r=t.children,a=t.match;return a?i.default.createElement("span",null,l(r,a)):i.default.createElement("span",null,r)};c.propTypes={children:o.default.string.isRequired,match:o.default.string};t.default=c},163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(76);var n=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var s="/root";var i=function e(t){return"/"===t[0]};var u=function e(t){if(!i(t))throw new Error('[fetchUrl] Path must start with forward slash. "'+t+'"')};var l=function e(t){return"/realms/"+t};var c=function e(t){return t.replace(/\//g,"/realms/")};var f=function e(t,r){var a="/"===t;return a?r:""+r+t};var d=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.realm,o=void 0===a?n.default.getState().local.session.realm:a;u(t);if(!o)return t;if(i(o)){o=f(o,s);o=c(o)}else o=l(o);return o+t};t.default=d},164:function(e,t,r){"use strict";var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(){var e=r(4);var t=r(16);var n=r(19);var o=r(525);var s=function e(r){var a=new RegExp("^"+t.context+"/([\\w/]*)"),n=r.match(a);this.serviceUrl=r;n&&n.length>1&&(this.baseEntity=n[1])};s.prototype.serviceCall=function(e){e.hasOwnProperty("headers")||(e.headers={});n.hasOwnProperty("passwords")&&n.passwords.hasOwnProperty("password")&&(e.headers[t.HEADER_PARAM_REAUTH]=n.passwords.password);e.url=e.hasOwnProperty("url")?e.url:"";e.serviceUrl?e.url=e.serviceUrl+e.url:e.url=this.serviceUrl+e.url;return o.restCall(e)};s.prototype.createEntity=function(e,t,r,n){var o={};if("object"===("undefined"===typeof e?"undefined":a(e))&&null!==e)throw"Invalid id value passed to createEntity";if(null!==e&&void 0!==e){t._rev?o["If-None-Match"]='"'+t._rev+'"':o["If-None-Match"]='"*"';return this.serviceCall({url:"/"+e,type:"PUT",success:r,error:n,data:JSON.stringify(t),headers:o})}return this.serviceCall({url:"?_action=create",type:"POST",success:r,error:n,data:JSON.stringify(t),headers:o})};s.prototype.deleteEntity=function(e,t,r){var a=this;return this.readEntity(e,null,r).then(function(n){var o={url:"/"+e,type:"DELETE",success:t,error:r};if(n._rev){o.headers=[];o.headers["If-Match"]='"'+n._rev+'"'}return a.serviceCall(o)})};s.prototype.readEntity=function(e,t,r){return this.serviceCall({url:"/"+e,type:"GET",success:t,error:r})};s.prototype.updateEntity=function(e,t,r,a){var n={};t._rev?n["If-Match"]='"'+t._rev+'"':n["If-Match"]='"*"';return this.serviceCall({url:"/"+e,type:"PUT",success:r,error:a,data:JSON.stringify(t),headers:n})};s.prototype.patchEntityDifferences=function(e,t,r,a,n,o,s){var i=this.getDifferences(t,r);if(!i.length){o&&o();return}return this.patchEntity(e,i,a,n,o,s)};s.prototype.patchEntity=function(t,r,a,n,o,s){var i;for(i=0;i<r.length;i++)"string"===typeof r[i].field&&0!==e.indexOf(r[i].field,"/")&&(r[i].field="/"+r[i].field);return this.serviceCall({url:"/"+t.id,type:"PATCH",success:a,error:n,data:JSON.stringify(r),headers:{"If-Match":'"'+t.rev+'"'},errorsHandlers:s})};s.prototype.patchEntityAttribute=function(e,t,r,a,n,o){return this.patchEntity(e,[{operation:"replace",field:t,value:r}],a,n,o)};s.prototype.getDifferences=function(t,r,a){var n,o,s,i,u=[],l={};a||(a="replace");for(s in r){i=r[s];if("function"!==typeof i){n=r[s];o=t[s];if((""!==n||o)&&!e.isEqual(n,o)){l={operation:a,field:s,value:n};u.push(l)}}}return u};return s}()},1666:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getPathsTree=f;var a=r(164);var n=l(a);var o=r(16);var s=l(o);var i=r(163);var u=l(i);function l(e){return e&&e.__esModule?e:{default:e}}var c=new n.default(""+s.default.host+s.default.context+"/json");function f(){return c.serviceCall({url:(0,u.default)("/api",{realm:false}),headers:{"Accept-API-Version":"protocol=1.0,resource=1.0"}})}},1667:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(4);var n=o(a);function o(e){return e&&e.__esModule?e:{default:e}}var s=function e(t,r){return n.default.filter(t,function(t){if(t.path&&n.default.includes(t.path.toLowerCase(),r.toLowerCase()))return true;if(t.children){t.children=e(t.children,r);return!n.default.isEmpty(t.children)}})};var i=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return s(n.default.cloneDeep(t),r)};t.default=i},1668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(4);var n=r(20);var o=d(n);var s=r(995);var i=d(s);var u=r(1669);var l=d(u);var c=r(1670);var f=d(c);function d(e){return e&&e.__esModule?e:{default:e}}var p=function e(t){var r=t.activePaths,n=t.collapsed,o=t.data,s=t.filter,u=t.onNodeSelect;var c=function e(t,r){var o=(0,a.includes)(r,t.objectPath);if(t.children){var c=(0,a.map)(t.children,function(t){return e(t,r)});return i.default.createElement(f.default,{collapsed:n,filter:s,highlighted:o,node:t,onSelect:u},c)}return i.default.createElement(l.default,{filter:s,highlighted:o,node:t,onSelect:u})};return i.default.createElement("ol",{className:"am-tree list-unstyled"},o.map(function(e){return c(e,r)}))};p.propTypes={activePaths:o.default.arrayOf(o.default.string).isRequired,collapsed:o.default.bool,data:o.default.arrayOf(o.default.objectOf({id:o.default.string.isRequired,children:o.default.array,objectPath:o.default.string.isRequired,path:o.default.string})).isRequired,filter:o.default.string,onNodeSelect:o.default.func.isRequired};t.default=p},1669:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=r(20);var n=l(a);var o=r(995);var s=l(o);var i=r(1296);var u=l(i);function l(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){var r=t.filter,a=t.highlighted,n=t.node,o=t.onSelect;var i=function e(){o(n.path)};return s.default.createElement("li",{className:a?"active":""},s.default.createElement("a",{className:"am-tree-node-leaf",onClick:i,onKeyPress:i,role:"button",tabIndex:"0"},s.default.createElement(u.default,{match:r},n.id)))};c.propTypes={filter:n.default.string,highlighted:n.default.bool.isRequired,node:n.default.objectOf({id:n.default.string.isRequired,path:n.default.string}).isRequired,onSelect:n.default.func.isRequired};t.default=c},1670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(20);var o=c(n);var s=r(995);var i=c(s);var u=r(1296);var l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){p(t,e);function t(e){f(this,t);var r=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleOnNodeSelect=r.handleOnNodeSelect.bind(r);r.state={collapsed:!e.highlighted&&e.collapsed};return r}a(t,[{key:"handleOnNodeSelect",value:function e(){this.setState({collapsed:!this.state.collapsed});this.props.node.path&&this.props.onSelect(this.props.node.path)}},{key:"render",value:function e(){return i.default.createElement("li",{className:this.props.highlighted?"active":""},i.default.createElement("a",{className:"am-tree-node",onClick:this.handleOnNodeSelect,onKeyPress:this.handleOnNodeSelect,role:"button",tabIndex:"0"},i.default.createElement("i",{className:"fa "+(this.state.collapsed?"fa-plus-square-o":"fa-minus-square-o")}),i.default.createElement(l.default,{match:this.props.filter},this.props.node.id)),i.default.createElement("div",{className:this.state.collapsed?"am-tree-node-children-hidden":"am-tree-node-children"},this.props.children))}}]);return t}(s.Component);h.propTypes={children:o.default.element.isRequired,collapsed:o.default.bool,filter:o.default.string,highlighted:o.default.bool.isRequired,node:o.default.objectOf({id:o.default.string.isRequired,children:o.default.array,path:o.default.string}).isRequired,onSelect:o.default.func.isRequired};t.default=h},525:function(e,t,r){"use strict";e.exports=function(){var e=r(10);var t=r(4);var a=r(673);var n=r(54);var o=r(166);var s=r(16);var i=r(696);var u={configuration:{defaultHeaders:{}}};u.restCall=function(r){var l=r.success,c=r.error,f=r.hasOwnProperty("dataType"),d=f&&"json"===r.dataType,p=e.Deferred(),h,v,m=!!window.MSInputMethodContext&&!!document.documentMode;h=function e(){p.resolve.apply(p,arguments)};v=function t(o,i,u){if(r.suppressEvents){c&&c(o);p.reject.apply(p,arguments)}else if(401!==o.status||a.matchError({status:401},r.errorsHandlers)){n.sendEvent(s.EVENT_REST_CALL_ERROR,{data:e.extend({},o,{type:this.type}),textStatus:i,errorThrown:u,errorsHandlers:r.errorsHandlers});c&&c(o);p.reject.apply(p,arguments)}else n.sendEvent(s.EVENT_SHOW_LOGIN_DIALOG,{authenticatedCallback:function t(){e.ajax(r).then(h,v)}})};if(!f||d){r.dataType="json";r.contentType="application/json"}u.applyDefaultHeadersIfNecessary(r,u.configuration.defaultHeaders);r.suppressEvents||n.sendEvent(s.EVENT_START_REST_CALL,{suppressSpinner:r.suppressSpinner});r.success=function(t,a,o){if(t&&t.error){r.suppressEvents||n.sendEvent(s.EVENT_REST_CALL_ERROR,{data:e.extend({},t,{type:this.type}),textStatus:a,jqXHR:o,errorsHandlers:r.errorsHandlers});c&&c(t)}else{r.suppressEvents||n.sendEvent(s.EVENT_END_REST_CALL,{data:t,textStatus:a,jqXHR:o});l&&l(t,o)}};delete r.error;r.xhrFields={withCredentials:true};r.headers["X-Requested-With"]="XMLHttpRequest";t.has(r.headers,"Cache-Control")||(r.headers["Cache-Control"]="no-cache");t.has(r.headers,"Accept-Language")||(r.headers["Accept-Language"]=o.getLanguage());t.inRange(i(),9,10)&&(r.async=false);m?setTimeout(function(){e.ajax(r).then(h,v)},1):e.ajax(r).then(h,v);return p};u.applyDefaultHeadersIfNecessary=function(e,t){var r;if(!t)return;if(e.headers)for(r in t)void 0===e.headers[r]&&(e.headers[r]=t[r]);else e.headers=t};return u}()},581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||false;a.configurable=true;"value"in a&&(a.writable=true);Object.defineProperty(e,a.key,a)}}return function(t,r,a){r&&e(t.prototype,r);a&&e(t,a);return t}}();var n=r(4);var o=r(1666);var s=r(996);var i=r(68);var u=r(1207);var l=T(u);var c=r(16);var f=T(c);var d=r(1667);var p=T(d);var h=r(995);var v=T(h);var m=r(67);var y=T(m);var E=r(1668);var g=T(E);var b=r(1e3);var _=T(b);var S=r(1001);var O=T(S);function T(e){return e&&e.__esModule?e:{default:e}}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=function e(t){return f.default.context+"/api/?url="+f.default.context+"/json"+(0,n.map)(t.split("/"),function(e){return encodeURIComponent(e)}).join("/")+"?_api"};var N=function(e){R(t,e);function t(e){w(this,t);var r=P(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handlePathSelect=r.handlePathSelect.bind(r);r.handleSearchFilter=r.handleSearchFilter.bind(r);r.resize=r.resize.bind(r);var a=e.router.params[0];var n=a?j("/"+a):"";r.state={collapsed:true,filteredTree:[],filter:"",initialTree:[],iframeSource:n,containerHeight:(0,l.default)()};return r}a(t,[{key:"componentDidMount",value:function e(){var t=this;(0,o.getPathsTree)().then(function(e){var r=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return(0,n.map)(t,function(t){t.objectPath=""+r+t.id;t.children&&(t.children=e(t.children,t.objectPath));return t})};e.length&&""===t.state.iframeSource&&t.routeToPath(e[0].path);var a=r(e);t.setState({initialTree:a,filteredTree:a})});window.addEventListener("resize",(0,n.debounce)(this.resize,100))}},{key:"componentWillUnmount",value:function e(){window.removeEventListener("resize",this.resize)}},{key:"handleSearchFilter",value:function e(t){var r=t.target.value;this.setState({collapsed:(0,n.isEmpty)(r),filter:r,filteredTree:(0,n.isEmpty)(r)?this.state.initialTree:(0,p.default)(this.state.initialTree,r)})}},{key:"handlePathSelect",value:function e(t){this.routeToPath(t)}},{key:"resize",value:function e(){this.setState({containerHeight:(0,l.default)()})}},{key:"routeToPath",value:function e(t){y.default.routeTo(y.default.configuration.routes.apiExplorer,{args:[t.slice(1)],trigger:true})}},{key:"render",value:function e(){var t=this.props.router.params[0];var r=(0,n.map)(t.split("/"),function(e,t,r){return"/"+r.slice(0,r.length-t).join("/")});var a=v.default.createElement("div",{className:"input-group"},v.default.createElement(s.FormControl,{onChange:this.handleSearchFilter,placeholder:(0,i.t)("common.form.search"),type:"text"}),v.default.createElement("span",{className:"input-group-addon"},v.default.createElement("i",{className:"fa fa-search"})));return v.default.createElement(s.Grid,{fluid:"true"},v.default.createElement(s.Row,null,v.default.createElement(s.Col,{md:3},v.default.createElement(s.Panel,{className:"am-iframe-overflow-scroll row",header:a,style:{height:this.state.containerHeight+"px"}},v.default.createElement("nav",{className:"sidenav"},v.default.createElement(g.default,{activePaths:r,collapsed:this.state.collapsed,data:this.state.filteredTree,filter:this.state.filter,onNodeSelect:this.handlePathSelect})))),v.default.createElement(s.Col,{md:9},v.default.createElement("iframe",{className:"am-iframe-overflow-scroll am-iframe-full-width",src:this.state.iframeSource,style:{height:this.state.containerHeight+"px"},title:(0,i.t)("console.api.explorer.iFrameTitle")}))))}}]);return t}(h.Component);N.propTypes={router:O.default};t.default=(0,_.default)(N)},673:function(e,t,r){"use strict";e.exports=function(){var e=r(4);var t=r(10);var a=r(695);var n=r(54);var o=r(16);var s={configuration:{defaultHandlers:a}};s.handleError=function(e,r){var a;e.error&&!e.status&&(e.status=e.error);if(e.hasOwnProperty("responseText"))try{e.responseObj=t.parseJSON(e.responseText)}catch(e){}r&&(a=s.matchError(e,r));a||(a=s.matchError(e,s.configuration.defaultHandlers));if(a){if(e.hasOwnProperty("responseObj")&&null!==e.responseObj&&!(403===e.responseObj.code&&"SSO Token cannot be retrieved."===e.responseObj.message||403===e.responseObj.error&&"Reauthentication failed"===e.responseObj.message||409===e.responseObj.error&&e.responseObj.message.match(/value to replace not found$/))){a.event&&n.sendEvent(a.event,{handler:a,error:e});a.message&&n.sendEvent(o.EVENT_DISPLAY_MESSAGE_REQUEST,a.message)}}else{console.error(e.status);n.sendEvent(o.EVENT_DISPLAY_MESSAGE_REQUEST,"unknown")}};s.matchError=function(t,r){var a,n;for(n in r){a=r[n];if(!e.isUndefined(a.field)&&t[a.field]===a.value)return a;if(a.status&&parseInt(t.status,0)===parseInt(a.status,0))return a}};return s}()},695:function(e,t,r){"use strict";e.exports=function(){var e=r(16);return{badRequest:{status:"400",message:"badRequestError"},unauthenticated:{status:"401",event:e.EVENT_UNAUTHENTICATED},forbidden:{status:"403",event:e.EVENT_UNAUTHORIZED,message:"forbiddenError"},notFound:{status:"404",message:"notFoundError"},conflict:{status:"409",message:"conflictError"},serverError:{status:"503",event:e.EVENT_SERVICE_UNAVAILABLE},internalServerError:{status:"500",message:"internalError"},incorrectRevision:{status:"412",message:"incorrectRevisionError"}}}()},696:function(e,t,r){"use strict";e.exports=function(){var e=function e(){var t=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||false;return t};return e}()}});
//# sourceMappingURL=ListApiView.jsx.fe53b9f208.js.map